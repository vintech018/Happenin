<mxfile host="app.diagrams.net">
  <diagram id="payment" name="Level 2 DFD - Payment Gateway">
    <mxGraphModel dx="1000" dy="600">
      <root>
        <mxCell id="0"/><mxCell id="1" parent="0"/>

        <!-- External Entity -->
        <mxCell id="E-PG" value="Payment Gateway" style="shape=actor;verticalLabelPosition=bottom;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="40" y="250" width="60" height="80" as="geometry"/>
        </mxCell>

        <!-- Processes -->
        <mxCell id="P-2.4.5" value="2.4.5 Initiate Payment" style="ellipse;fillColor=#E8F4FF;" vertex="1" parent="1">
          <mxGeometry x="250" y="100" width="180" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="P-2.4.6" value="2.4.6 Verify Payment" style="ellipse;fillColor=#E8F4FF;" vertex="1" parent="1">
          <mxGeometry x="250" y="200" width="180" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="P-2.4.7" value="2.4.7 Record Transaction" style="ellipse;fillColor=#E8F4FF;" vertex="1" parent="1">
          <mxGeometry x="250" y="300" width="180" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="P-2.4.8" value="2.4.8 Refund/Cancel Payment" style="ellipse;fillColor=#E8F4FF;" vertex="1" parent="1">
          <mxGeometry x="250" y="400" width="180" height="60" as="geometry"/>
        </mxCell>

        <!-- Data Stores -->
        <mxCell id="D-PaymentsDB" value="PaymentsDB" style="shape=cylinder;fillColor=#FFF4E6;" vertex="1" parent="1">
          <mxGeometry x="550" y="180" width="100" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="D-AuditLog" value="AuditLog" style="shape=cylinder;fillColor=#FFF4E6;" vertex="1" parent="1">
          <mxGeometry x="550" y="300" width="100" height="60" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
