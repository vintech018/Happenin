{"version":3,"file":"dist-Co5mooZQ.js","names":["#isDefined","#define","#init","#nativeEl","#isInit","#upgradeProperty","#childObserver","#syncMediaChildAttribute","#syncMediaChildren","#childMap","#enableDefaultTrack","#forwardAttribute","selectedChanged","#tracks","#addTrackCallback","#removeTrackCallback","#changeCallback","addRendition","getCurrentRenditions","removeRendition","selectedChanged","#addRenditionCallback","#removeRenditionCallback","#changeCallback","#selected","#selected","#addRenditionCallback","#removeRenditionCallback","#changeCallback","#selected","#tracks","#addTrackCallback","#removeTrackCallback","#changeCallback","#enabled"],"sources":["../../custom-media-element/dist/custom-media-element.js","../../media-tracks/dist/track-event.js","../../media-tracks/dist/utils.js","../../media-tracks/dist/video-track-list.js","../../media-tracks/dist/rendition-event.js","../../media-tracks/dist/video-rendition-list.js","../../media-tracks/dist/video-rendition.js","../../media-tracks/dist/video-track.js","../../media-tracks/dist/audio-rendition-list.js","../../media-tracks/dist/audio-rendition.js","../../media-tracks/dist/audio-track-list.js","../../media-tracks/dist/audio-track.js","../../media-tracks/dist/mixin.js"],"sourcesContent":["const Events = [\n  \"abort\",\n  \"canplay\",\n  \"canplaythrough\",\n  \"durationchange\",\n  \"emptied\",\n  \"encrypted\",\n  \"ended\",\n  \"error\",\n  \"loadeddata\",\n  \"loadedmetadata\",\n  \"loadstart\",\n  \"pause\",\n  \"play\",\n  \"playing\",\n  \"progress\",\n  \"ratechange\",\n  \"seeked\",\n  \"seeking\",\n  \"stalled\",\n  \"suspend\",\n  \"timeupdate\",\n  \"volumechange\",\n  \"waiting\",\n  \"waitingforkey\",\n  \"resize\",\n  \"enterpictureinpicture\",\n  \"leavepictureinpicture\",\n  \"webkitbeginfullscreen\",\n  \"webkitendfullscreen\",\n  \"webkitpresentationmodechanged\"\n];\nconst Attributes = [\n  \"autopictureinpicture\",\n  \"disablepictureinpicture\",\n  \"disableremoteplayback\",\n  \"autoplay\",\n  \"controls\",\n  \"controlslist\",\n  \"crossorigin\",\n  \"loop\",\n  \"muted\",\n  \"playsinline\",\n  \"poster\",\n  \"preload\",\n  \"src\"\n];\nfunction getAudioTemplateHTML(attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        display: inline-flex;\n        line-height: 0;\n        flex-direction: column;\n        justify-content: end;\n      }\n\n      audio {\n        width: 100%;\n      }\n    </style>\n    <slot name=\"media\">\n      <audio${serializeAttributes(attrs)}></audio>\n    </slot>\n    <slot></slot>\n  `\n  );\n}\nfunction getVideoTemplateHTML(attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        display: inline-block;\n        line-height: 0;\n      }\n\n      video {\n        max-width: 100%;\n        max-height: 100%;\n        min-width: 100%;\n        min-height: 100%;\n        object-fit: var(--media-object-fit, contain);\n        object-position: var(--media-object-position, 50% 50%);\n      }\n\n      video::-webkit-media-text-track-container {\n        transform: var(--media-webkit-text-track-transform);\n        transition: var(--media-webkit-text-track-transition);\n      }\n    </style>\n    <slot name=\"media\">\n      <video${serializeAttributes(attrs)}></video>\n    </slot>\n    <slot></slot>\n  `\n  );\n}\nfunction CustomMediaMixin(superclass, { tag, is }) {\n  const nativeElTest = globalThis.document?.createElement?.(tag, { is });\n  const nativeElProps = nativeElTest ? getNativeElProps(nativeElTest) : [];\n  return class CustomMedia extends superclass {\n    static getTemplateHTML = tag.endsWith(\"audio\") ? getAudioTemplateHTML : getVideoTemplateHTML;\n    static shadowRootOptions = { mode: \"open\" };\n    static Events = Events;\n    static #isDefined = false;\n    static get observedAttributes() {\n      CustomMedia.#define();\n      const natAttrs = nativeElTest?.constructor?.observedAttributes ?? [];\n      return [\n        ...natAttrs,\n        ...Attributes\n      ];\n    }\n    static #define() {\n      if (this.#isDefined) return;\n      this.#isDefined = true;\n      const propsToAttrs = new Set(this.observedAttributes);\n      propsToAttrs.delete(\"muted\");\n      for (const prop of nativeElProps) {\n        if (prop in this.prototype) continue;\n        if (typeof nativeElTest[prop] === \"function\") {\n          this.prototype[prop] = function(...args) {\n            this.#init();\n            const fn = () => {\n              if (this.call) return this.call(prop, ...args);\n              const nativeFn = this.nativeEl?.[prop];\n              return nativeFn?.apply(this.nativeEl, args);\n            };\n            return fn();\n          };\n        } else {\n          const config = {\n            get() {\n              this.#init();\n              const attr = prop.toLowerCase();\n              if (propsToAttrs.has(attr)) {\n                const val = this.getAttribute(attr);\n                return val === null ? false : val === \"\" ? true : val;\n              }\n              return this.get?.(prop) ?? this.nativeEl?.[prop];\n            }\n          };\n          if (prop !== prop.toUpperCase()) {\n            config.set = function(val) {\n              this.#init();\n              const attr = prop.toLowerCase();\n              if (propsToAttrs.has(attr)) {\n                if (val === true || val === false || val == null) {\n                  this.toggleAttribute(attr, Boolean(val));\n                } else {\n                  this.setAttribute(attr, val);\n                }\n                return;\n              }\n              if (this.set) {\n                this.set(prop, val);\n                return;\n              }\n              if (this.nativeEl) {\n                this.nativeEl[prop] = val;\n              }\n            };\n          }\n          Object.defineProperty(this.prototype, prop, config);\n        }\n      }\n    }\n    // Private fields\n    #isInit = false;\n    #nativeEl = null;\n    #childMap = /* @__PURE__ */ new Map();\n    #childObserver;\n    get;\n    set;\n    call;\n    // If the custom element is defined before the custom element's HTML is parsed\n    // no attributes will be available in the constructor (construction process).\n    // Wait until initializing in the attributeChangedCallback or\n    // connectedCallback or accessing any properties.\n    get nativeEl() {\n      this.#init();\n      return this.#nativeEl ?? this.querySelector(\":scope > [slot=media]\") ?? this.querySelector(tag) ?? this.shadowRoot?.querySelector(tag) ?? null;\n    }\n    set nativeEl(val) {\n      this.#nativeEl = val;\n    }\n    get defaultMuted() {\n      return this.hasAttribute(\"muted\");\n    }\n    set defaultMuted(val) {\n      this.toggleAttribute(\"muted\", val);\n    }\n    get src() {\n      return this.getAttribute(\"src\");\n    }\n    set src(val) {\n      this.setAttribute(\"src\", `${val}`);\n    }\n    get preload() {\n      return this.getAttribute(\"preload\") ?? this.nativeEl?.preload;\n    }\n    set preload(val) {\n      this.setAttribute(\"preload\", `${val}`);\n    }\n    #init() {\n      if (this.#isInit) return;\n      this.#isInit = true;\n      this.init();\n    }\n    init() {\n      if (!this.shadowRoot) {\n        this.attachShadow({ mode: \"open\" });\n        const attrs = namedNodeMapToObject(this.attributes);\n        if (is) attrs.is = is;\n        if (tag) attrs.part = tag;\n        this.shadowRoot.innerHTML = this.constructor.getTemplateHTML(attrs);\n      }\n      this.nativeEl.muted = this.hasAttribute(\"muted\");\n      for (const prop of nativeElProps) {\n        this.#upgradeProperty(prop);\n      }\n      this.#childObserver = new MutationObserver(this.#syncMediaChildAttribute.bind(this));\n      this.shadowRoot.addEventListener(\"slotchange\", () => this.#syncMediaChildren());\n      this.#syncMediaChildren();\n      for (const type of this.constructor.Events) {\n        this.shadowRoot.addEventListener(type, this, true);\n      }\n    }\n    handleEvent(event) {\n      if (event.target === this.nativeEl) {\n        this.dispatchEvent(new CustomEvent(event.type, { detail: event.detail }));\n      }\n    }\n    #syncMediaChildren() {\n      const removeNativeChildren = new Map(this.#childMap);\n      const defaultSlot = this.shadowRoot?.querySelector(\"slot:not([name])\");\n      const mediaChildren = defaultSlot?.assignedElements({ flatten: true }).filter((el) => [\"track\", \"source\"].includes(el.localName));\n      mediaChildren.forEach((el) => {\n        removeNativeChildren.delete(el);\n        let clone = this.#childMap.get(el);\n        if (!clone) {\n          clone = el.cloneNode();\n          this.#childMap.set(el, clone);\n          this.#childObserver?.observe(el, { attributes: true });\n        }\n        this.nativeEl?.append(clone);\n        this.#enableDefaultTrack(clone);\n      });\n      removeNativeChildren.forEach((clone, el) => {\n        clone.remove();\n        this.#childMap.delete(el);\n      });\n    }\n    #syncMediaChildAttribute(mutations) {\n      for (const mutation of mutations) {\n        if (mutation.type === \"attributes\") {\n          const { target, attributeName } = mutation;\n          const clone = this.#childMap.get(target);\n          if (clone && attributeName) {\n            clone.setAttribute(attributeName, target.getAttribute(attributeName) ?? \"\");\n            this.#enableDefaultTrack(clone);\n          }\n        }\n      }\n    }\n    #enableDefaultTrack(trackEl) {\n      if (trackEl && trackEl.localName === \"track\" && trackEl.default && (trackEl.kind === \"chapters\" || trackEl.kind === \"metadata\") && trackEl.track.mode === \"disabled\") {\n        trackEl.track.mode = \"hidden\";\n      }\n    }\n    #upgradeProperty(prop) {\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\n        const value = this[prop];\n        delete this[prop];\n        this[prop] = value;\n      }\n    }\n    attributeChangedCallback(attrName, oldValue, newValue) {\n      this.#init();\n      this.#forwardAttribute(attrName, oldValue, newValue);\n    }\n    #forwardAttribute(attrName, _oldValue, newValue) {\n      if ([\"id\", \"class\"].includes(attrName)) return;\n      if (!CustomMedia.observedAttributes.includes(attrName) && this.constructor.observedAttributes.includes(attrName)) {\n        return;\n      }\n      if (newValue === null) {\n        this.nativeEl?.removeAttribute(attrName);\n      } else if (this.nativeEl?.getAttribute(attrName) !== newValue) {\n        this.nativeEl?.setAttribute(attrName, newValue);\n      }\n    }\n    connectedCallback() {\n      this.#init();\n    }\n  };\n}\nfunction getNativeElProps(nativeElTest) {\n  const nativeElProps = [];\n  for (let proto = Object.getPrototypeOf(nativeElTest); proto && proto !== HTMLElement.prototype; proto = Object.getPrototypeOf(proto)) {\n    const props = Object.getOwnPropertyNames(proto);\n    nativeElProps.push(...props);\n  }\n  return nativeElProps;\n}\nfunction serializeAttributes(attrs) {\n  let html = \"\";\n  for (const key in attrs) {\n    if (!Attributes.includes(key)) continue;\n    const value = attrs[key];\n    if (value === \"\") html += ` ${key}`;\n    else html += ` ${key}=\"${value}\"`;\n  }\n  return html;\n}\nfunction namedNodeMapToObject(namedNodeMap) {\n  const obj = {};\n  for (const attr of namedNodeMap) {\n    obj[attr.name] = attr.value;\n  }\n  return obj;\n}\nconst CustomVideoElement = CustomMediaMixin(globalThis.HTMLElement ?? class {\n}, {\n  tag: \"video\"\n});\nconst CustomAudioElement = CustomMediaMixin(globalThis.HTMLElement ?? class {\n}, {\n  tag: \"audio\"\n});\nexport {\n  Attributes,\n  CustomAudioElement,\n  CustomMediaMixin,\n  CustomVideoElement,\n  Events\n};\n","class TrackEvent extends Event {\n  track;\n  constructor(type, init) {\n    super(type);\n    this.track = init.track;\n  }\n}\nexport {\n  TrackEvent\n};\n","const privateProps = /* @__PURE__ */ new WeakMap();\nfunction getPrivate(instance) {\n  return privateProps.get(instance) ?? setPrivate(instance, {});\n}\nfunction setPrivate(instance, props) {\n  let saved = privateProps.get(instance);\n  if (!saved) privateProps.set(instance, saved = {});\n  return Object.assign(saved, props);\n}\nexport {\n  getPrivate,\n  setPrivate\n};\n","import { TrackEvent } from \"./track-event.js\";\nimport { getPrivate } from \"./utils.js\";\nfunction addVideoTrack(media, track) {\n  const trackList = media.videoTracks;\n  getPrivate(track).media = media;\n  if (!getPrivate(track).renditionSet) {\n    getPrivate(track).renditionSet = /* @__PURE__ */ new Set();\n  }\n  const trackSet = getPrivate(trackList).trackSet;\n  trackSet.add(track);\n  const index = trackSet.size - 1;\n  if (!(index in VideoTrackList.prototype)) {\n    Object.defineProperty(VideoTrackList.prototype, index, {\n      get() {\n        return [...getPrivate(this).trackSet][index];\n      }\n    });\n  }\n  queueMicrotask(() => {\n    trackList.dispatchEvent(new TrackEvent(\"addtrack\", { track }));\n  });\n}\nfunction removeVideoTrack(track) {\n  const trackList = getPrivate(track).media?.videoTracks;\n  if (!trackList) return;\n  const trackSet = getPrivate(trackList).trackSet;\n  trackSet.delete(track);\n  queueMicrotask(() => {\n    trackList.dispatchEvent(new TrackEvent(\"removetrack\", { track }));\n  });\n}\nfunction selectedChanged(selected) {\n  const trackList = getPrivate(selected).media.videoTracks ?? [];\n  let hasUnselected = false;\n  for (const track of trackList) {\n    if (track === selected) continue;\n    track.selected = false;\n    hasUnselected = true;\n  }\n  if (hasUnselected) {\n    if (getPrivate(trackList).changeRequested) return;\n    getPrivate(trackList).changeRequested = true;\n    queueMicrotask(() => {\n      delete getPrivate(trackList).changeRequested;\n      trackList.dispatchEvent(new Event(\"change\"));\n    });\n  }\n}\nclass VideoTrackList extends EventTarget {\n  #addTrackCallback;\n  #removeTrackCallback;\n  #changeCallback;\n  constructor() {\n    super();\n    getPrivate(this).trackSet = /* @__PURE__ */ new Set();\n  }\n  get #tracks() {\n    return getPrivate(this).trackSet;\n  }\n  [Symbol.iterator]() {\n    return this.#tracks.values();\n  }\n  get length() {\n    return this.#tracks.size;\n  }\n  getTrackById(id) {\n    return [...this.#tracks].find((track) => track.id === id) ?? null;\n  }\n  get selectedIndex() {\n    return [...this.#tracks].findIndex((track) => track.selected);\n  }\n  get onaddtrack() {\n    return this.#addTrackCallback;\n  }\n  set onaddtrack(callback) {\n    if (this.#addTrackCallback) {\n      this.removeEventListener(\"addtrack\", this.#addTrackCallback);\n      this.#addTrackCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#addTrackCallback = callback;\n      this.addEventListener(\"addtrack\", callback);\n    }\n  }\n  get onremovetrack() {\n    return this.#removeTrackCallback;\n  }\n  set onremovetrack(callback) {\n    if (this.#removeTrackCallback) {\n      this.removeEventListener(\"removetrack\", this.#removeTrackCallback);\n      this.#removeTrackCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#removeTrackCallback = callback;\n      this.addEventListener(\"removetrack\", callback);\n    }\n  }\n  get onchange() {\n    return this.#changeCallback;\n  }\n  set onchange(callback) {\n    if (this.#changeCallback) {\n      this.removeEventListener(\"change\", this.#changeCallback);\n      this.#changeCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#changeCallback = callback;\n      this.addEventListener(\"change\", callback);\n    }\n  }\n}\nexport {\n  VideoTrackList,\n  addVideoTrack,\n  removeVideoTrack,\n  selectedChanged\n};\n","class RenditionEvent extends Event {\n  rendition;\n  constructor(type, init) {\n    super(type);\n    this.rendition = init.rendition;\n  }\n}\nexport {\n  RenditionEvent\n};\n","import { RenditionEvent } from \"./rendition-event.js\";\nimport { getPrivate } from \"./utils.js\";\nfunction addRendition(track, rendition) {\n  const renditionList = getPrivate(track).media.videoRenditions;\n  getPrivate(rendition).media = getPrivate(track).media;\n  getPrivate(rendition).track = track;\n  const renditionSet = getPrivate(track).renditionSet;\n  renditionSet.add(rendition);\n  const index = renditionSet.size - 1;\n  if (!(index in VideoRenditionList.prototype)) {\n    Object.defineProperty(VideoRenditionList.prototype, index, {\n      get() {\n        return getCurrentRenditions(this)[index];\n      }\n    });\n  }\n  queueMicrotask(() => {\n    if (!track.selected) return;\n    renditionList.dispatchEvent(new RenditionEvent(\"addrendition\", { rendition }));\n  });\n}\nfunction removeRendition(rendition) {\n  const renditionList = getPrivate(rendition).media.videoRenditions;\n  const track = getPrivate(rendition).track;\n  const renditionSet = getPrivate(track).renditionSet;\n  renditionSet.delete(rendition);\n  queueMicrotask(() => {\n    const track2 = getPrivate(rendition).track;\n    if (!track2.selected) return;\n    renditionList.dispatchEvent(new RenditionEvent(\"removerendition\", { rendition }));\n  });\n}\nfunction selectedChanged(rendition) {\n  const renditionList = getPrivate(rendition).media.videoRenditions;\n  if (!renditionList || getPrivate(renditionList).changeRequested) return;\n  getPrivate(renditionList).changeRequested = true;\n  queueMicrotask(() => {\n    delete getPrivate(renditionList).changeRequested;\n    const track = getPrivate(rendition).track;\n    if (!track.selected) return;\n    renditionList.dispatchEvent(new Event(\"change\"));\n  });\n}\nfunction getCurrentRenditions(renditionList) {\n  const media = getPrivate(renditionList).media;\n  return [...media.videoTracks].filter((track) => track.selected).flatMap((track) => [...getPrivate(track).renditionSet]);\n}\nclass VideoRenditionList extends EventTarget {\n  #addRenditionCallback;\n  #removeRenditionCallback;\n  #changeCallback;\n  [Symbol.iterator]() {\n    return getCurrentRenditions(this).values();\n  }\n  get length() {\n    return getCurrentRenditions(this).length;\n  }\n  getRenditionById(id) {\n    return getCurrentRenditions(this).find((rendition) => `${rendition.id}` === `${id}`) ?? null;\n  }\n  get selectedIndex() {\n    return getCurrentRenditions(this).findIndex((rendition) => rendition.selected);\n  }\n  set selectedIndex(index) {\n    for (const [i, rendition] of getCurrentRenditions(this).entries()) {\n      rendition.selected = i === index;\n    }\n  }\n  get onaddrendition() {\n    return this.#addRenditionCallback;\n  }\n  set onaddrendition(callback) {\n    if (this.#addRenditionCallback) {\n      this.removeEventListener(\"addrendition\", this.#addRenditionCallback);\n      this.#addRenditionCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#addRenditionCallback = callback;\n      this.addEventListener(\"addrendition\", callback);\n    }\n  }\n  get onremoverendition() {\n    return this.#removeRenditionCallback;\n  }\n  set onremoverendition(callback) {\n    if (this.#removeRenditionCallback) {\n      this.removeEventListener(\"removerendition\", this.#removeRenditionCallback);\n      this.#removeRenditionCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#removeRenditionCallback = callback;\n      this.addEventListener(\"removerendition\", callback);\n    }\n  }\n  get onchange() {\n    return this.#changeCallback;\n  }\n  set onchange(callback) {\n    if (this.#changeCallback) {\n      this.removeEventListener(\"change\", this.#changeCallback);\n      this.#changeCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#changeCallback = callback;\n      this.addEventListener(\"change\", callback);\n    }\n  }\n}\nexport {\n  VideoRenditionList,\n  addRendition,\n  removeRendition,\n  selectedChanged\n};\n","import { selectedChanged } from \"./video-rendition-list.js\";\nclass VideoRendition {\n  src;\n  id;\n  width;\n  height;\n  bitrate;\n  frameRate;\n  codec;\n  #selected = false;\n  get selected() {\n    return this.#selected;\n  }\n  set selected(val) {\n    if (this.#selected === val) return;\n    this.#selected = val;\n    selectedChanged(this);\n  }\n}\nexport {\n  VideoRendition\n};\n","import { selectedChanged } from \"./video-track-list.js\";\nimport { VideoRendition } from \"./video-rendition.js\";\nimport { addRendition, removeRendition } from \"./video-rendition-list.js\";\nconst VideoTrackKind = {\n  alternative: \"alternative\",\n  captions: \"captions\",\n  main: \"main\",\n  sign: \"sign\",\n  subtitles: \"subtitles\",\n  commentary: \"commentary\"\n};\nclass VideoTrack {\n  id;\n  kind;\n  label = \"\";\n  language = \"\";\n  sourceBuffer;\n  #selected = false;\n  addRendition(src, width, height, codec, bitrate, frameRate) {\n    const rendition = new VideoRendition();\n    rendition.src = src;\n    rendition.width = width;\n    rendition.height = height;\n    rendition.frameRate = frameRate;\n    rendition.bitrate = bitrate;\n    rendition.codec = codec;\n    addRendition(this, rendition);\n    return rendition;\n  }\n  removeRendition(rendition) {\n    removeRendition(rendition);\n  }\n  get selected() {\n    return this.#selected;\n  }\n  set selected(val) {\n    if (this.#selected === val) return;\n    this.#selected = val;\n    if (val !== true) return;\n    selectedChanged(this);\n  }\n}\nexport {\n  VideoTrack,\n  VideoTrackKind\n};\n","import { RenditionEvent } from \"./rendition-event.js\";\nimport { getPrivate } from \"./utils.js\";\nfunction addRendition(track, rendition) {\n  const renditionList = getPrivate(track).media.audioRenditions;\n  getPrivate(rendition).media = getPrivate(track).media;\n  getPrivate(rendition).track = track;\n  const renditionSet = getPrivate(track).renditionSet;\n  renditionSet.add(rendition);\n  const index = renditionSet.size - 1;\n  if (!(index in AudioRenditionList.prototype)) {\n    Object.defineProperty(AudioRenditionList.prototype, index, {\n      get() {\n        return getCurrentRenditions(this)[index];\n      }\n    });\n  }\n  queueMicrotask(() => {\n    if (!track.enabled) return;\n    renditionList.dispatchEvent(new RenditionEvent(\"addrendition\", { rendition }));\n  });\n}\nfunction removeRendition(rendition) {\n  const renditionList = getPrivate(rendition).media.audioRenditions;\n  const track = getPrivate(rendition).track;\n  const renditionSet = getPrivate(track).renditionSet;\n  renditionSet.delete(rendition);\n  queueMicrotask(() => {\n    const track2 = getPrivate(rendition).track;\n    if (!track2.enabled) return;\n    renditionList.dispatchEvent(new RenditionEvent(\"removerendition\", { rendition }));\n  });\n}\nfunction selectedChanged(rendition) {\n  const renditionList = getPrivate(rendition).media.audioRenditions;\n  if (!renditionList || getPrivate(renditionList).changeRequested) return;\n  getPrivate(renditionList).changeRequested = true;\n  queueMicrotask(() => {\n    delete getPrivate(renditionList).changeRequested;\n    const track = getPrivate(rendition).track;\n    if (!track.enabled) return;\n    renditionList.dispatchEvent(new Event(\"change\"));\n  });\n}\nfunction getCurrentRenditions(renditionList) {\n  const media = getPrivate(renditionList).media;\n  return [...media.audioTracks].filter((track) => track.enabled).flatMap((track) => [...getPrivate(track).renditionSet]);\n}\nclass AudioRenditionList extends EventTarget {\n  #addRenditionCallback;\n  #removeRenditionCallback;\n  #changeCallback;\n  [Symbol.iterator]() {\n    return getCurrentRenditions(this).values();\n  }\n  get length() {\n    return getCurrentRenditions(this).length;\n  }\n  getRenditionById(id) {\n    return getCurrentRenditions(this).find((rendition) => `${rendition.id}` === `${id}`) ?? null;\n  }\n  get selectedIndex() {\n    return getCurrentRenditions(this).findIndex((rendition) => rendition.selected);\n  }\n  set selectedIndex(index) {\n    for (const [i, rendition] of getCurrentRenditions(this).entries()) {\n      rendition.selected = i === index;\n    }\n  }\n  get onaddrendition() {\n    return this.#addRenditionCallback;\n  }\n  set onaddrendition(callback) {\n    if (this.#addRenditionCallback) {\n      this.removeEventListener(\"addrendition\", this.#addRenditionCallback);\n      this.#addRenditionCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#addRenditionCallback = callback;\n      this.addEventListener(\"addrendition\", callback);\n    }\n  }\n  get onremoverendition() {\n    return this.#removeRenditionCallback;\n  }\n  set onremoverendition(callback) {\n    if (this.#removeRenditionCallback) {\n      this.removeEventListener(\"removerendition\", this.#removeRenditionCallback);\n      this.#removeRenditionCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#removeRenditionCallback = callback;\n      this.addEventListener(\"removerendition\", callback);\n    }\n  }\n  get onchange() {\n    return this.#changeCallback;\n  }\n  set onchange(callback) {\n    if (this.#changeCallback) {\n      this.removeEventListener(\"change\", this.#changeCallback);\n      this.#changeCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#changeCallback = callback;\n      this.addEventListener(\"change\", callback);\n    }\n  }\n}\nexport {\n  AudioRenditionList,\n  addRendition,\n  removeRendition,\n  selectedChanged\n};\n","import { selectedChanged } from \"./audio-rendition-list.js\";\nclass AudioRendition {\n  src;\n  id;\n  bitrate;\n  codec;\n  #selected = false;\n  get selected() {\n    return this.#selected;\n  }\n  set selected(val) {\n    if (this.#selected === val) return;\n    this.#selected = val;\n    selectedChanged(this);\n  }\n}\nexport {\n  AudioRendition\n};\n","import { TrackEvent } from \"./track-event.js\";\nimport { getPrivate } from \"./utils.js\";\nfunction addAudioTrack(media, track) {\n  const trackList = media.audioTracks;\n  getPrivate(track).media = media;\n  if (!getPrivate(track).renditionSet) {\n    getPrivate(track).renditionSet = /* @__PURE__ */ new Set();\n  }\n  const trackSet = getPrivate(trackList).trackSet;\n  trackSet.add(track);\n  const index = trackSet.size - 1;\n  if (!(index in AudioTrackList.prototype)) {\n    Object.defineProperty(AudioTrackList.prototype, index, {\n      get() {\n        return [...getPrivate(this).trackSet][index];\n      }\n    });\n  }\n  queueMicrotask(() => {\n    trackList.dispatchEvent(new TrackEvent(\"addtrack\", { track }));\n  });\n}\nfunction removeAudioTrack(track) {\n  const trackList = getPrivate(track).media?.audioTracks;\n  if (!trackList) return;\n  const trackSet = getPrivate(trackList).trackSet;\n  trackSet.delete(track);\n  queueMicrotask(() => {\n    trackList.dispatchEvent(new TrackEvent(\"removetrack\", { track }));\n  });\n}\nfunction enabledChanged(track) {\n  const trackList = getPrivate(track).media.audioTracks;\n  if (!trackList || getPrivate(trackList).changeRequested) return;\n  getPrivate(trackList).changeRequested = true;\n  queueMicrotask(() => {\n    delete getPrivate(trackList).changeRequested;\n    trackList.dispatchEvent(new Event(\"change\"));\n  });\n}\nclass AudioTrackList extends EventTarget {\n  #addTrackCallback;\n  #removeTrackCallback;\n  #changeCallback;\n  constructor() {\n    super();\n    getPrivate(this).trackSet = /* @__PURE__ */ new Set();\n  }\n  get #tracks() {\n    return getPrivate(this).trackSet;\n  }\n  [Symbol.iterator]() {\n    return this.#tracks.values();\n  }\n  get length() {\n    return this.#tracks.size;\n  }\n  getTrackById(id) {\n    return [...this.#tracks].find((track) => track.id === id) ?? null;\n  }\n  get onaddtrack() {\n    return this.#addTrackCallback;\n  }\n  set onaddtrack(callback) {\n    if (this.#addTrackCallback) {\n      this.removeEventListener(\"addtrack\", this.#addTrackCallback);\n      this.#addTrackCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#addTrackCallback = callback;\n      this.addEventListener(\"addtrack\", callback);\n    }\n  }\n  get onremovetrack() {\n    return this.#removeTrackCallback;\n  }\n  set onremovetrack(callback) {\n    if (this.#removeTrackCallback) {\n      this.removeEventListener(\"removetrack\", this.#removeTrackCallback);\n      this.#removeTrackCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#removeTrackCallback = callback;\n      this.addEventListener(\"removetrack\", callback);\n    }\n  }\n  get onchange() {\n    return this.#changeCallback;\n  }\n  set onchange(callback) {\n    if (this.#changeCallback) {\n      this.removeEventListener(\"change\", this.#changeCallback);\n      this.#changeCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#changeCallback = callback;\n      this.addEventListener(\"change\", callback);\n    }\n  }\n}\nexport {\n  AudioTrackList,\n  addAudioTrack,\n  enabledChanged,\n  removeAudioTrack\n};\n","import { AudioRendition } from \"./audio-rendition.js\";\nimport { enabledChanged } from \"./audio-track-list.js\";\nimport { addRendition, removeRendition } from \"./audio-rendition-list.js\";\nconst AudioTrackKind = {\n  alternative: \"alternative\",\n  descriptions: \"descriptions\",\n  main: \"main\",\n  \"main-desc\": \"main-desc\",\n  translation: \"translation\",\n  commentary: \"commentary\"\n};\nclass AudioTrack {\n  id;\n  kind;\n  label = \"\";\n  language = \"\";\n  sourceBuffer;\n  #enabled = false;\n  addRendition(src, codec, bitrate) {\n    const rendition = new AudioRendition();\n    rendition.src = src;\n    rendition.codec = codec;\n    rendition.bitrate = bitrate;\n    addRendition(this, rendition);\n    return rendition;\n  }\n  removeRendition(rendition) {\n    removeRendition(rendition);\n  }\n  get enabled() {\n    return this.#enabled;\n  }\n  set enabled(val) {\n    if (this.#enabled === val) return;\n    this.#enabled = val;\n    enabledChanged(this);\n  }\n}\nexport {\n  AudioTrack,\n  AudioTrackKind\n};\n","import { VideoTrack } from \"./video-track.js\";\nimport { VideoTrackList, addVideoTrack, removeVideoTrack } from \"./video-track-list.js\";\nimport { AudioTrack } from \"./audio-track.js\";\nimport { AudioTrackList, addAudioTrack, removeAudioTrack } from \"./audio-track-list.js\";\nimport { VideoRenditionList } from \"./video-rendition-list.js\";\nimport { AudioRenditionList } from \"./audio-rendition-list.js\";\nimport { getPrivate } from \"./utils.js\";\nconst nativeVideoTracksFn = getBaseMediaTracksFn(globalThis.HTMLMediaElement, \"video\");\nconst nativeAudioTracksFn = getBaseMediaTracksFn(globalThis.HTMLMediaElement, \"audio\");\nfunction MediaTracksMixin(MediaElementClass) {\n  if (!MediaElementClass?.prototype) return MediaElementClass;\n  const videoTracksFn = getBaseMediaTracksFn(MediaElementClass, \"video\");\n  if (!videoTracksFn || `${videoTracksFn}`.includes(\"[native code]\")) {\n    Object.defineProperty(MediaElementClass.prototype, \"videoTracks\", {\n      get() {\n        return getVideoTracks(this);\n      }\n    });\n  }\n  const audioTracksFn = getBaseMediaTracksFn(MediaElementClass, \"audio\");\n  if (!audioTracksFn || `${audioTracksFn}`.includes(\"[native code]\")) {\n    Object.defineProperty(MediaElementClass.prototype, \"audioTracks\", {\n      get() {\n        return getAudioTracks(this);\n      }\n    });\n  }\n  if (!(\"addVideoTrack\" in MediaElementClass.prototype)) {\n    MediaElementClass.prototype.addVideoTrack = function(kind, label = \"\", language = \"\") {\n      const track = new VideoTrack();\n      track.kind = kind;\n      track.label = label;\n      track.language = language;\n      addVideoTrack(this, track);\n      return track;\n    };\n  }\n  if (!(\"removeVideoTrack\" in MediaElementClass.prototype)) {\n    MediaElementClass.prototype.removeVideoTrack = removeVideoTrack;\n  }\n  if (!(\"addAudioTrack\" in MediaElementClass.prototype)) {\n    MediaElementClass.prototype.addAudioTrack = function(kind, label = \"\", language = \"\") {\n      const track = new AudioTrack();\n      track.kind = kind;\n      track.label = label;\n      track.language = language;\n      addAudioTrack(this, track);\n      return track;\n    };\n  }\n  if (!(\"removeAudioTrack\" in MediaElementClass.prototype)) {\n    MediaElementClass.prototype.removeAudioTrack = removeAudioTrack;\n  }\n  if (!(\"videoRenditions\" in MediaElementClass.prototype)) {\n    Object.defineProperty(MediaElementClass.prototype, \"videoRenditions\", {\n      get() {\n        return initVideoRenditions(this);\n      }\n    });\n  }\n  const initVideoRenditions = (media) => {\n    let renditions = getPrivate(media).videoRenditions;\n    if (!renditions) {\n      renditions = new VideoRenditionList();\n      getPrivate(renditions).media = media;\n      getPrivate(media).videoRenditions = renditions;\n    }\n    return renditions;\n  };\n  if (!(\"audioRenditions\" in MediaElementClass.prototype)) {\n    Object.defineProperty(MediaElementClass.prototype, \"audioRenditions\", {\n      get() {\n        return initAudioRenditions(this);\n      }\n    });\n  }\n  const initAudioRenditions = (media) => {\n    let renditions = getPrivate(media).audioRenditions;\n    if (!renditions) {\n      renditions = new AudioRenditionList();\n      getPrivate(renditions).media = media;\n      getPrivate(media).audioRenditions = renditions;\n    }\n    return renditions;\n  };\n  return MediaElementClass;\n}\nfunction getBaseMediaTracksFn(MediaElementClass, type) {\n  if (MediaElementClass?.prototype) {\n    return Object.getOwnPropertyDescriptor(MediaElementClass.prototype, `${type}Tracks`)?.get;\n  }\n}\nfunction getVideoTracks(media) {\n  let tracks = getPrivate(media).videoTracks;\n  if (!tracks) {\n    tracks = new VideoTrackList();\n    getPrivate(media).videoTracks = tracks;\n    if (nativeVideoTracksFn) {\n      const nativeTracks = nativeVideoTracksFn.call(media.nativeEl ?? media);\n      for (const nativeTrack of nativeTracks) {\n        addVideoTrack(media, nativeTrack);\n      }\n      nativeTracks.addEventListener(\"change\", () => {\n        tracks.dispatchEvent(new Event(\"change\"));\n      });\n      nativeTracks.addEventListener(\"addtrack\", (event) => {\n        if ([...tracks].some((t) => t instanceof VideoTrack)) {\n          for (const nativeTrack of nativeTracks) {\n            removeVideoTrack(nativeTrack);\n          }\n          return;\n        }\n        addVideoTrack(media, event.track);\n      });\n      nativeTracks.addEventListener(\"removetrack\", (event) => {\n        removeVideoTrack(event.track);\n      });\n    }\n  }\n  return tracks;\n}\nfunction getAudioTracks(media) {\n  let tracks = getPrivate(media).audioTracks;\n  if (!tracks) {\n    tracks = new AudioTrackList();\n    getPrivate(media).audioTracks = tracks;\n    if (nativeAudioTracksFn) {\n      const nativeTracks = nativeAudioTracksFn.call(media.nativeEl ?? media);\n      for (const nativeTrack of nativeTracks) {\n        addAudioTrack(media, nativeTrack);\n      }\n      nativeTracks.addEventListener(\"change\", () => {\n        tracks.dispatchEvent(new Event(\"change\"));\n      });\n      nativeTracks.addEventListener(\"addtrack\", (event) => {\n        if ([...tracks].some((t) => t instanceof AudioTrack)) {\n          for (const nativeTrack of nativeTracks) {\n            removeAudioTrack(nativeTrack);\n          }\n          return;\n        }\n        addAudioTrack(media, event.track);\n      });\n      nativeTracks.addEventListener(\"removetrack\", (event) => {\n        removeAudioTrack(event.track);\n      });\n    }\n  }\n  return tracks;\n}\nexport {\n  MediaTracksMixin\n};\n"],"mappings":"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"}